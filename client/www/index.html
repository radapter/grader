<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1, minimum-scale=1, maximum-scale=1">
    <meta charset="utf-8">
    <title>Grade Calculator</title>
    <!--<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />-->
    <link rel="stylesheet" href="css/jquery.mobile.flatui.css"/>
    <link rel="stylesheet" href="css/style.css"/>
</head>

<body>

<!--landing page-->
<div data-role="page" id="home">
    <div data-role="header">
        <a data-iconpos="notext" href="#userhome" data-role="button" data-icon="flat-man"
           title="Home" id="landingHomeIcon">Home</a>
        <h1>Grade Factory</h1>
        <button class="nav-dropdown" data-iconpos="notext" data-icon="flat-menu"></button>
        <ul class="nav-dropdown-list" data-role="listview" data-theme="c">
            <li><a href="#home">Grade Factory Home</a></li>
            <li><a href="#login">Login</a></li>
            <li><a href="#signup">Signup</a></li>
        </ul>
    </div><!-- /header -->

    <div data-role="main" class="ui-content">
        <div id="beforeLoginHome">
            <h2 class="mc-text-center">Welcome to the Grade Factory!</h2>
            <br><br>
            <p class="mc-top-margin-1-5 mc-text-center"><b>Existing Users</b></p>
            <a href="#login" class="ui-btn ui-btn-e ui-corner-all">Login</a>
            <br>
            <p class="mc-top-margin-1-5 mc-text-center"><b>Don't have an account?</b></p>
            <a href="#signup" class="ui-btn ui-btn-b ui-corner-all">Sign Up</a>
        </div>
        <div id="afterLoginHome">
            <p class="mc-top-margin-1-5 mc-text-center"><b>Want to leave?</b></p>
            <button class="logoutBtn" data-theme="d">Logout</button>
        </div>

        <p></p>
    </div><!-- /content -->
</div><!-- /landing page -->

<!--login page-->
<div data-role="page" id="login">
    <div data-role="header">
        <a data-iconpos="notext" href="#home" data-role="button" data-icon="home" title="Home">Home</a>
        <h1>Login</h1>
        <button class="nav-dropdown" data-iconpos="notext" data-icon="flat-menu"></button>
        <ul class="nav-dropdown-list" data-role="listview" data-theme="c">
            <li><a href="#home">Home</a></li>
            <li><a href="#login">Login</a></li>
            <li><a href="#signup">Signup</a></li>
        </ul>
    </div><!-- /header -->
    <div data-role="content"  class="ui-content">
        <form id="loginForm">
            <div class="fieldcontain">
                <span class="ui-icon ui-icon-flat-mail ui-icon-shadow form-icon"></span>
                <input type="text" name="email" placeholder="Email" required/>
            </div>
            <div class="fieldcontain">
                <span class="ui-icon ui-icon-flat-lock ui-icon-shadow form-icon">&nbsp;</span>
                <input type="password" name="password" placeholder="Password" required/>
            </div>

            <button id="loginBtn" data-theme="b">Login</button>
            <!--TODO: error alert dialoge-->
        </form>
    </div><!-- /content -->
</div><!-- /login page -->

<!--Signup page-->
<div data-role="page" id="signup">
    <div data-role="header">
        <a data-iconpos="notext" href="#home" data-role="button" data-icon="home" title="Home">Home</a>
        <h1>Sign Up</h1>
        <button class="nav-dropdown" data-iconpos="notext" data-icon="flat-menu"></button>
        <ul class="nav-dropdown-list" data-role="listview" data-theme="c">
            <li><a href="#home">Home</a></li>
            <li><a href="#login">Login</a></li>
            <li><a href="#signup">Signup</a></li>
        </ul>
    </div><!-- /header -->
    <div data-role="content"  class="ui-content">
        <form id="signupForm">
            <!--select user type teacher or student-->
            <div data-role="fieldcontain">
                <label for="select-choice-a">I am a:</label>
                <select name="userType" id="select-choice-a" data-native-menu="false" data-theme="f">
                    <option value="student">Student</option>
                    <option value="teacher">Teacher</option>
                </select>
            </div>
            <div class="fieldcontain">
                <span class="ui-icon ui-icon-flat-mail ui-icon-shadow form-icon"></span>
                <input type="text" name="email" placeholder="Email" required/>
            </div>
            <div class="fieldcontain">
                <span class="ui-icon ui-icon-flat-lock ui-icon-shadow form-icon">&nbsp;</span>
                <input type="password" name="password" placeholder="Password" required/>
            </div>
            <div class="fieldcontain">
                <span class="ui-icon ui-icon-flat-lock ui-icon-shadow form-icon">&nbsp;</span>
                <input type="password" name="password2" placeholder="Confirm Password" required/>
            </div>
            <div class="fieldcontain">
                <span class="ui-btn-icon-notext ui-icon-info form-icon2"></span>
                <input type="text" name="fname" placeholder="First name"/>
            </div>
            <div class="fieldcontain">
                <span class="ui-btn-icon-notext ui-icon-info form-icon2"></span>
                <input type="text" name="lname" placeholder="Last name"/>
            </div>

            <div class="fieldcontain">
                <span class="ui-btn-icon-notext ui-icon-phone form-icon2"></span>
                <input type="number" name="phone" placeholder="Phone Number"/>
            </div>

            <div class="fieldcontain">
                <span class="ui-icon ui-icon-flat-man ui-icon-shadow form-icon">&nbsp;</span>
                <input type="number" name="avatarId" min=1 max=15 placeholder="Avatar ID (1-15)"/>
            </div>

            <button id="signupBtn" data-theme="b">Sign Up</button>

            <!--TODO: error alert popup-->

        </form>
    </div><!-- /content -->
</div><!-- /Signup page -->

<!--userhome page-->
<div data-role="page" id="userhome">
    <div data-role="header">
        <a data-iconpos="notext" href="#home" data-role="button" data-icon="home" title="Home">Home</a>
        <!--insert user firstname here-->
        <h1><span id="userFname"></span>'s Home</h1>
        <button class="nav-dropdown" data-iconpos="notext" data-icon="flat-menu"></button>
        <ul class="nav-dropdown-list" data-role="listview" data-theme="c">
            <li><a href="#home">Grade Factory Home</a></li>
            <li><a href="#userhome">My Home</a></li>
            <li><a href="#home" class="logoutBtn">Logout</a></li>
        </ul>
    </div><!-- /header -->
    <div data-role="content" role="main">
        <!--user profile panel-->
        <div id="userProfilePanel"></div>

        <!-- BEGIN: userProfileTmp: for teacher - Underscore Template Definition. -->
        <script type="text/template" id="userProfileTmp">
            <img src="<%- avatarUrl %>" alt="user avatar" height="60"/>

            <div class="ui-grid-a">
                <div class="ui-block-a">
                    <h4>Name:</h4>
                </div>
                <div class="ui-block-b">
                    <h4><%- fname %> <%- lname %></h4>
                </div>
            </div>
            <div class="ui-grid-a">
                <div class="ui-block-a">
                    <h4>Email:</h4>
                </div>
                <div class="ui-block-b">
                    <h4><%- email %></h4>
                </div>
            </div>
            <div class="ui-grid-a">
                <div class="ui-block-a">
                    <h4>Phone:</h4>
                </div>
                <div class="ui-block-b">
                    <h4><%- phone %></h4>
                </div>
            </div>
            <div class="ui-grid-a">
                <div class="ui-block-a">
                    <h4>Your Role:</h4>
                </div>
                <div class="ui-block-b">
                    <h4><%- userType %></h4>
                </div>
            </div>
            <div class="ui-grid-a">
                <div class="ui-block-a">
                    <h4>Your ID:</h4>
                </div>
                <div class="ui-block-b">
                    <h4><%- userId %></h4>
                </div>
            </div>
        </script>
        <!-- END: userProfileTmp Underscore Template Definition. -->

        <!--go to enrollCourse page, show when user is a student-->
        <!--<a href="#enrollCourse" id="goEnrollCourseBtn" class="ui-btn ui-btn-e ui-corner-all">Enroll Courses</a>-->
        <button id="goEnrollCourseBtn" data-theme="b">Enroll In Courses</button>

        <!--go to createCourse page, show when user is a teacher-->
        <a href="#createCourse" id="gocCreateCourseBtn" class="ui-btn ui-btn-e ui-corner-all">Create A Course</a>

        <!--TODO course list: enroll(student)/teach(teacher)-->

        <div id="userCourseList"></div>

        <!-- BEGIN: userCourseListTmp: for teacher - Underscore Template Definition. -->
        <script type="text/template" id="userCourseListTmp">
            <h4>My Courses</h4>
            <div data-role="collapsible-set" data-theme="b" data-content-theme="b">
                <% _.each(courses, function(course){ %>

                <!--TODO should have button in each item to check course info, see what if grade-->
                <div class="coursePanel" id="<%- course._id %>" data-role="collapsible" data-collapsed-icon="flat-time"
                     data-expanded-icon="flat-cross" data-collapsed="true">
                    <h3><%- course.name %></h3>
                    <p><%- course.description %></p>
                    <!--<button id="goCourseDetailBtn" data-icon="flat-eye" data-theme="f">Course Detail</button>-->
                    <!--<a href="#courseDetail?courseId=<%- course._id %>" class="ui-btn ui-btn-b ui-corner-all" >
                        Course Detail</a>-->
                </div>
                <% }); %>
            </div>
        </script>
        <!-- END: userCourseListTmp Underscore Template Definition. -->

        <!-- BEGIN: userEnrollListTmp: for student - Underscore Template Definition. -->
        <script type="text/template" id="userEnrollListTmp">
            <h4>My Enrollment</h4>
            <div data-role="collapsible-set" data-theme="e" data-content-theme="e">
                <% _.each(enrolls, function(enroll){ %>

                <!--TODO should have button in each item to check course info-->
                <div class="coursePanel" id="<%- enroll._id %>" data-role="collapsible" data-collapsed-icon="flat-time"
                     data-expanded-icon="flat-cross" data-collapsed="true">
                    <h3><%- enroll._course.name %></h3>
                    <p><%- enroll._course.description %></p>
                </div>
                <% }); %>
            </div>
        </script>
        <!-- END: userEnrollListTmp Underscore Template Definition. -->


    </div><!-- /content -->
</div><!-- /userhome page -->

<!--enrollCourse page: for student-->
<div data-role="page" id="enrollCourse">
    <div data-role="header">
        <a data-iconpos="notext" href="#userhome" data-role="button" data-icon="flat-man" title="Home">Home</a>
        <h1>Enroll In a Class</h1>
        <button class="nav-dropdown" data-iconpos="notext" data-icon="flat-menu"></button>
        <ul class="nav-dropdown-list" data-role="listview" data-theme="c">
            <li><a href="#home">Grade Factory Home</a></li>
            <li><a href="#userhome">My Home</a></li>
            <li><a href="#home" class="logoutBtn">Logout</a></li>
        </ul>
    </div><!-- /header -->
    <div data-role="content"  class="ui-content">

        <!--TODO filter for course-->

        <!--TODO all course list : select course on each item ?-->
        <!--TODO should have button in each item to enroll or go to detail-->
        <div id="allEnrollCourseList"></div>
        <!-- BEGIN: allEnrollCourseListTmp: for teacher - Underscore Template Definition. -->
        <script type="text/template" id="allEnrollCourseListTmp">
            <div data-role="collapsible-set" data-theme="b" data-content-theme="b">
                <% _.each(courses, function(course){ %>

                <!--TODO should have button in each item to check course info, see what if grade-->
                <div class="coursePanel" id="<%- course._id %>" data-role="collapsible" data-collapsed-icon="flat-time"
                     data-expanded-icon="flat-cross" data-collapsed="true">
                    <h3><%- course.name %></h3>
                    <p><%- course.description %></p>
                    <!--<button id="goCourseDetailBtn" data-icon="flat-eye" data-theme="f">Course Detail</button>-->
                    <!--<a href="#courseDetail?courseId=<%- course._id %>" class="ui-btn ui-btn-b ui-corner-all" >
                    Course Detail</a>-->
                </div>
                <% }); %>
            </div>
        </script>
        <!-- END: allEnrollCourseListTmp Underscore Template Definition. -->
        <p class="no-courses mc-text-center">No courses to enroll in yet.</p>

    </div><!-- /content -->
</div><!-- /enrollCourse page -->

<!--createCourse page: for teacher-->
<div data-role="page" id="createCourse">
    <div data-role="header">
        <a data-iconpos="notext" href="#userhome" data-role="button" data-icon="flat-man" title="Home">Home</a>
        <h1>Create a Course</h1>
        <button class="nav-dropdown" data-iconpos="notext" data-icon="flat-menu"></button>
        <ul class="nav-dropdown-list" data-role="listview" data-theme="c">
            <li><a href="#home">Grade Factory Home</a></li>
            <li><a href="#userhome">My Home</a></li>
            <li><a href="#home" class="logoutBtn">Logout</a></li>
        </ul>
    </div><!-- /header -->
    <div data-role="content" class="ui-content">

        <!-- create a course: form fileds as follows-->
        <form id="createCourseForm">
            <div data-role="collapsible" data-collapsed="false" >
                <h3>General</h3>
                <strong>Course Name</strong>
                <input type="text" name="name" placeholder="CMPE 235" required/>

                <strong>Course Description</strong>
                <textarea name="description" id="coursedesc" cols="30" rows="10"
                          placeholder="Mobile systems, RFID, etc" required></textarea>
            </div>

            <div data-role="collapsible" class="course-meta">
                <h3>Grading Weights</h3>

                <h4>Total Course Percentage: <span id="total-percent">0</span>%</h4>
                <p class="percent-error">
                    ERROR: Your total percentage does not sum to 100%. Please adjust to correct it.</p>

                <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                    <h4>Homework</h4>
                    <div class="ui-grid-a">
                        <div class="ui-block-a">
                            <div data-role="fieldcontain">
                                <label for="hwkmax">Max Points:</label>
                                <input type="number" id="hwkmax" name="HomeworksMax" placeholder="500" required/>
                            </div>
                        </div>
                        <div class="ui-block-b">
                            <div data-role="fieldcontain">
                                <label for="hwkpercent">% (out of 100):</label>
                                <input type="number" name="HomeworksFactor" class="percent" id="hwkpercent"
                                       placeholder="10" required/>
                            </div>
                        </div>
                    </div>
                </div>

                <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                    <h4>Labs</h4>
                    <div class="ui-grid-a">
                        <div class="ui-block-a">
                            <div data-role="fieldcontain">
                                <label for="labmax">Max Points:</label>
                                <input type="number" id="labmax" name="LabsMax" placeholder="500" required/>
                            </div>
                        </div>
                        <div class="ui-block-b">
                            <div data-role="fieldcontain">
                                <label for="labpercent">% (out of 100):</label>
                                <input type="number" name="LabsFactor" class="percent" id="labpercent"
                                       placeholder="40" required/>
                            </div>
                        </div>
                    </div>
                </div>

                <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                    <h4>Project</h4>
                    <div class="ui-grid-a">
                        <div class="ui-block-a">
                            <div data-role="fieldcontain">
                                <label for="projmax">Max Points:</label>
                                <input type="number" id="projmax" name="ProjectMax" placeholder="200" required/>
                            </div>
                        </div>
                        <div class="ui-block-b">
                            <div data-role="fieldcontain">
                                <label for="projpercent">% (out of 100):</label>
                                <input type="number" name="ProjectFactor" class="percent" id="projpercent"
                                       placeholder="20" required/>
                            </div>
                        </div>
                    </div>
                </div>

                <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                    <h4>Presentation</h4>
                    <div class="ui-grid-a">
                        <div class="ui-block-a">
                            <div data-role="fieldcontain">
                                <label for="presmax">Max Points:</label>
                                <input type="number" id="presmax" name="PresentationMax" placeholder="100" required/>
                            </div>
                        </div>
                        <div class="ui-block-b">
                            <div data-role="fieldcontain">
                                <label for="prespercent">% (out of 100):</label>
                                <input type="number" name="PresentationFactor" class="percent" id="prespercent"
                                       placeholder="10" required/>
                            </div>
                        </div>
                    </div>
                </div>

                <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                    <h4>Midterm</h4>
                    <div class="ui-grid-a">
                        <div class="ui-block-a">
                            <div data-role="fieldcontain">
                                <label for="mtmax">Max Points:</label>
                                <input type="number" id="mtmax" name="MidtermMax" placeholder="100" required/>
                            </div>
                        </div>
                        <div class="ui-block-b">
                            <div data-role="fieldcontain">
                                <label for="mtpercent">% (out of 100):</label>
                                <input type="number" name="MidtermFactor" class="percent" id="mtpercent"
                                       placeholder="10" required/>
                            </div>
                        </div>
                    </div>
                </div>

                <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                    <h4>Final</h4>
                    <div class="ui-grid-a">
                        <div class="ui-block-a">
                            <div data-role="fieldcontain">
                                <label for="finalmax">Max Points:</label>
                                <input type="number" id="finalmax" name="FinalMax" placeholder="100" required/>
                            </div>
                        </div>
                        <div class="ui-block-b">
                            <div data-role="fieldcontain">
                                <label for="finalpercent">% (out of 100):</label>
                                <input type="number" name="FinalFactor" class="percent" id="finalpercent"
                                       placeholder="10" required/>
                            </div>
                        </div>
                    </div>
                </div>

                <p class="percent-error">
                    ERROR: Your total percentage does not sum to 100%. Please adjust to correct it.</p>
            </div>

            <div data-role="collapsible" class="cutoffs">
                <h3>Grading Cutoffs</h3>

                <div data-role="rangeslider" class="slider slider-a">
                    <label for="range-a-min">Cutoffs for A:</label>
                    <input name="range-a-min" id="range-a-min" min="0" max="100" value="90" type="range" />
                    <input name="range-a-max" id="range-a-max" min="0" max="100" value="100" type="range" />
                </div>
                <br>
                <div data-role="rangeslider" class="slider slider-b">
                    <label for="range-b-min">Cutoffs for B:</label>
                    <input name="range-b-min" id="range-b-min" min="00" max="100" value="80" type="range" />
                    <input name="range-b-max" id="range-b-max" min="0" max="100" value="89" type="range" />
                </div>
                <br>
                <div data-role="rangeslider" class="slider slider-c">
                    <label for="range-c-min">Cutoffs for C:</label>
                    <input name="range-c-min" id="range-c-min" min="00" max="100" value="70" type="range" />
                    <input name="range-c-max" id="range-c-max" min="0" max="100" value="79" type="range" />
                </div>
                <br>
                <div data-role="rangeslider" class="slider slider-d">
                    <label for="range-d-min">Cutoffs for D:</label>
                    <input name="range-d-min" id="range-d-min" min="0" max="100" value="60" type="range" />
                    <input name="range-d-max" id="range-d-max" min="0" max="100" value="69" type="range" />
                </div>
                <br>
                <div data-role="rangeslider" class="slider slider-f">
                    <label for="range-f-min">Cutoffs for F:</label>
                    <input name="range-f-min" id="range-f-min" min="0" max="100" value="0" type="range"/>
                    <input name="range-f-max" id="range-f-max" min="0" max="100" value="59" type="range" />
                </div>


                <!--Policy - A
                <input type="text" name="PolicyA" placeholder="Policy A"/>
                Policy - B
                <input type="text" name="PolicyB" placeholder="Policy B"/>
                Policy - C
                <input type="text" name="PolicyC" placeholder="Policy C"/>
                Policy - D
                <input type="text" name="PolicyD" placeholder="Policy D"/>-->
            </div>

            <button id="createCourseBtn" data-icon="flat-checkround" data-iconpos="left" data-theme="b">
                Create Course
            </button>
            <!--TODO: error alert dialoge-->

        </form>

    </div><!-- /content -->
</div><!-- /createCourse page -->

<!--editCourse page: for teacher-->
<div data-role="page" id="editCourse">
    <div data-role="header">
        <a data-iconpos="notext" href="#userhome" data-role="button" data-icon="flat-man" title="Home">Home</a>
        <!--insert course name here-->
        <h1>Edit Course</h1>
        <a data-iconpos="notext" href="" data-role="button" data-icon="flat-menu"></a>
    </div><!-- /header -->
    <div data-role="content"  class="ui-content">

        <div id="editCoursePanel"></div>
        <!-- BEGIN: editCourseTmp for teacher view -->
        <script type="text/template" id="editCourseTmp">
            <!-- edit a course form-->
            <form id="editCourseForm">

                <div data-role="collapsible" data-collapsed="false" >
                    <h3>General</h3>
                    <strong>Course Name</strong>
                    <input type="text" name="name" placeholder="CMPE 235" value="<%- name %>" required/>

                    <strong>Course Description</strong>
                    <textarea name="description" id="coursedesc" cols="30" rows="10"
                          placeholder="Mobile systems, RFID, etc" required><%- description %></textarea>
                </div>

                <div data-role="collapsible" class="course-meta">
                    <h3>Grading Weights</h3>

                    <h4>Total Course Percentage:
                        <span class="total-percent">
                            <%-meta.Homeworks.factor+meta.Labs.factor+meta.Presentation.factor+meta.Project.factor
                                +meta.Midterm.factor+meta.Final.factor%>
                        </span>%</h4>
                    <p class="percent-error">
                        ERROR: Your total percentage does not sum to 100%. Please adjust to correct it.</p>

                    <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                        <h4>Homework</h4>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <div data-role="fieldcontain">
                                    <label for="hwkmax">Max Points:</label>
                                    <input type="number" id="hwkmax" name="HomeworksMax"
                                           value="<%- meta.Homeworks.max %>"
                                           placeholder="500" required/>
                                </div>
                            </div>
                            <div class="ui-block-b">
                                <div data-role="fieldcontain">
                                    <label for="hwkpercent">% (out of 100):</label>
                                    <input type="number" name="HomeworksFactor" class="percent" id="hwkpercent"
                                           value="<%- meta.Homeworks.factor %>" placeholder="10" required/>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                        <h4>Labs</h4>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <div data-role="fieldcontain">
                                    <label for="labmax">Max Points:</label>
                                    <input type="number" id="labmax" name="LabsMax"
                                           value="<%- meta.Labs.max %>" placeholder="500" required/>
                                </div>
                            </div>
                            <div class="ui-block-b">
                                <div data-role="fieldcontain">
                                    <label for="labpercent">% (out of 100):</label>
                                    <input type="number" name="LabsFactor" class="percent" id="labpercent"
                                           value="<%- meta.Labs.factor %>" placeholder="40" required/>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                        <h4>Project</h4>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <div data-role="fieldcontain">
                                    <label for="projmax">Max Points:</label>
                                    <input type="number" id="projmax" name="ProjectMax"
                                           value="<%- meta.Project.max %>" placeholder="200" required/>
                                </div>
                            </div>
                            <div class="ui-block-b">
                                <div data-role="fieldcontain">
                                    <label for="projpercent">% (out of 100):</label>
                                    <input type="number" name="ProjectFactor" class="percent" id="projpercent"
                                           value="<%- meta.Project.factor %>" placeholder="20" required/>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                        <h4>Presentation</h4>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <div data-role="fieldcontain">
                                    <label for="presmax">Max Points:</label>
                                    <input type="number" id="presmax" name="PresentationMax"
                                           value="<%- meta.Presentation.max %>" placeholder="100" required/>
                                </div>
                            </div>
                            <div class="ui-block-b">
                                <div data-role="fieldcontain">
                                    <label for="prespercent">% (out of 100):</label>
                                    <input type="number" name="PresentationFactor" class="percent" id="prespercent"
                                           value="<%- meta.Presentation.factor %>" placeholder="10" required/>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                        <h4>Midterm</h4>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <div data-role="fieldcontain">
                                    <label for="mtmax">Max Points:</label>
                                    <input type="number" id="mtmax" name="MidtermMax"
                                           value="<%- meta.Midterm.max %>" placeholder="100" required/>
                                </div>
                            </div>
                            <div class="ui-block-b">
                                <div data-role="fieldcontain">
                                    <label for="mtpercent">% (out of 100):</label>
                                    <input type="number" name="MidtermFactor" class="percent" id="mtpercent"
                                           value="<%- meta.Midterm.factor %>" placeholder="10" required/>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div data-role="collapsible" data-collapsed="false" data-theme="b" data-content-theme="b">
                        <h4>Final</h4>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <div data-role="fieldcontain">
                                    <label for="finalmax">Max Points:</label>
                                    <input type="number" id="finalmax" name="FinalMax"
                                           value="<%- meta.Final.max %>" placeholder="100" required/>
                                </div>
                            </div>
                            <div class="ui-block-b">
                                <div data-role="fieldcontain">
                                    <label for="finalpercent">% (out of 100):</label>
                                    <input type="number" name="FinalFactor" class="percent" id="finalpercent"
                                           value="<%- meta.Final.factor %>" placeholder="10" required/>
                                </div>
                            </div>
                        </div>
                    </div>

                    <p class="percent-error">
                        ERROR: Your total percentage does not sum to 100%. Please adjust to correct it.</p>
                </div>

                <div data-role="collapsible" class="cutoffs">
                    <h3>Grading Cutoffs</h3>
                    <div data-role="rangeslider" class="slider slider-a">
                        <label for="edit-a-min">Cutoffs for A:</label>
                        <input name="edit-a-min" id="edit-a-min" min="0" max="100" value="<%- policy.A %>" type="range" />
                        <input name="edit-a-max" id="edit-a-max" min="0" max="100" value="100" type="range" />
                    </div>
                    <br>
                    <div data-role="rangeslider" class="slider slider-b">
                        <label for="edit-b-min">Cutoffs for B:</label>
                        <input name="edit-b-min" id="edit-b-min" min="00" max="100" value="<%- policy.B %>" type="range" />
                        <input name="edit-b-max" id="edit-b-max" min="0" max="100" value="<%- policy.A-1 %>" type="range" />
                    </div>
                    <br>
                    <div data-role="rangeslider" class="slider slider-c">
                        <label for="edit-c-min">Cutoffs for C:</label>
                        <input name="edit-c-min" id="edit-c-min" min="00" max="100" value="<%- policy.C %>" type="range" />
                        <input name="edit-c-max" id="edit-c-max" min="0" max="100" value="<%- policy.B-1%>" type="range" />
                    </div>
                    <br>
                    <div data-role="rangeslider" class="slider slider-d">
                        <label for="edit-d-min">Cutoffs for D:</label>
                        <input name="edit-d-min" id="edit-d-min" min="0" max="100" value="<%- policy.D %>" type="range" />
                        <input name="edit-d-max" id="edit-d-max" min="0" max="100" value="<%- policy.C-1 %>" type="range" />
                    </div>
                    <br>
                    <div data-role="rangeslider" class="slider slider-f">
                        <label for="edit-f-min">Cutoffs for F:</label>
                        <input name="edit-f-min" id="edit-f-min" min="0" max="100" value="0" type="range"/>
                        <input name="edit-f-max" id="edit-f-max" min="0" max="100" value="<%- policy.D-1 %>" type="range" />
                    </div>
                </div>




                <!--<label for="course_name"><em>Course Name</em></label>


                Policy - A
                <input type="text" name="PolicyA" value="<%- policy.A %>" placeholder="Policy A"/>
                Policy - B
                <input type="text" name="PolicyB" value="<%- policy.B %>" placeholder="Policy B"/>
                Policy - C
                <input type="text" name="PolicyC" value="<%- policy.C %>" placeholder="Policy C"/>
                Policy - D
                <input type="text" name="PolicyD" value="<%- policy.D %>" placeholder="Policy D"/>-->

                <button id="editCourseSubmitBtn" data-icon="flat-new" data-theme="b">Edit Course</button>
                <!--TODO: error alert dialoge-->

            </form>

        </script>
        <!-- END: editCourseTmp Underscore Template Definition. -->



    </div><!-- /content -->
</div><!-- /editCourse page -->

<!--courseDetail page: check course meta, enroll/(edit/delete)-->
<div data-role="page" id="courseDetail">
    <div data-role="header">
        <a data-iconpos="notext" href="#userhome" data-role="button" data-icon="flat-man" title="Home">Home</a>
        <!--insert course name here-->
        <h1>Course Detail</h1>
        <a data-iconpos="notext" href="" data-role="button" data-icon="flat-menu"></a>
    </div><!-- /header -->
    <div data-role="content"  class="ui-content">

        <!--if teacher, button to edit/delete course-->
        <button id="editCourseBtn" data-icon="flat-new" data-theme="b">Edit</button>

        <!--if student, button to enroll course-->
        <button id="enrollCourseBtn" data-icon="flat-checkround" data-theme="e">Enroll</button>

        <!--show course fileds-->
        <div id="courseDetailPanel"></div>
        <!-- BEGIN: courseDetailTmp -->
        <script type="text/template" id="courseDetailTmp">
            <div data-role="collapsible" class="course-info" data-collapsed="false">
                <h3>Course</h3>
                <h4><%- name %></h4>
                <!-- !!!! DO NOT add text in this div except the _id-->
                <h6 style="display: none;" id="courseIDDetailPage"><%- _id %></h6>
                <h6 style="display: none;">Owner: <%- _owner.fname %> <%- _owner.lname %> </h6>
                <h4><%- description %></h4>
            </div>

            <div data-role="collapsible" class="course-meta">
                <h3>Grading Weights</h3>
                <table data-role="table" class="table-breakpoint">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Max Points</th>
                            <th>% (out of 100)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Homework</td>
                            <td><%- meta.Homeworks.max %></td>
                            <td><%- meta.Homeworks.factor %>%</td>
                        </tr>
                        <tr>
                            <td>Labs</td>
                            <td><%- meta.Labs.max %></td>
                            <td><%- meta.Labs.factor %>%</td>
                        </tr>
                        <tr>
                            <td>Project</td>
                            <td><%- meta.Project.max %></td>
                            <td><%- meta.Project.factor %>%</td>
                        </tr>
                        <tr>
                            <td>Presentation</td>
                            <td><%- meta.Presentation.max %></td>
                            <td><%- meta.Presentation.factor %>%</td>
                        </tr>
                        <tr>
                            <td>Midterm</td>
                            <td><%- meta.Midterm.max %></td>
                            <td><%- meta.Midterm.factor %>%</td>
                        </tr>
                        <tr>
                            <td>Final</td>
                            <td><%- meta.Final.max %></td>
                            <td><%- meta.Final.factor %>%</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div data-role="collapsible" class="course-grading">
                <h3>Grading Cutoffs</h3>
                <table data-role="table" class="table-breakpoint">
                    <thead>
                        <tr>
                            <th>Grade</th>
                            <th>Percentage Range</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>A</td>
                            <td><%- policy.A %>% - 100%</td>
                        </tr>
                        <tr>
                            <td>B</td>
                            <td><%- policy.B %>% - <%- policy.A-1 %>%</td>
                        </tr>
                        <tr>
                            <td>C</td>
                            <td><%- policy.C %>% - <%- policy.B-1 %>%</td>
                        </tr>
                        <tr>
                            <td>D</td>
                            <td><%- policy.D %>% - <%- policy.C-1 %>%</td>
                        </tr>
                        <tr>
                            <td>F</td>
                            <td>0% - <%- policy.D-1 %>%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </script>
        <!-- END: courseDetailTmp Underscore Template Definition. -->

        <!--if teacher, can see enroll list-->
        <!--show course fileds-->
        <div id="enrollList"></div>
        <!-- BEGIN: courseEnrolListTmp -->
        <script type="text/template" id="courseEnrolListTmp">
            <div data-role="collapsible" data-collapsed="false">
                <h3>Enrolled Students</h3>
                <div data-role="collapsible-set" data-theme="e" data-content-theme="e">
                    <% _.each(enrolls, function(enroll){ %>
                    <div class="enrollPanel" id="<%- enroll._id %>"
                         data-role="collapsible" data-collapsed-icon="flat-man"
                         data-expanded-icon="flat-cross" data-collapsed="true">
                        <!--<h5>Grade: <span class="grad-calc"></span></h5>-->
                        <h3><%- enroll._student.fname %> <%- enroll._student.lname %></h3>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <h4 class="mc-text-right">Homework</h4>
                            </div>
                            <div class="ui-block-b">
                                <h4><%- enroll.grade.Homeworks.actual %></h4>
                            </div>
                        </div>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <h4 class="mc-text-right">Labs</h4>
                            </div>
                            <div class="ui-block-b">
                                <h4><%- enroll.grade.Labs.actual %></h4>
                            </div>
                        </div>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <h4 class="mc-text-right">Project</h4>
                            </div>
                            <div class="ui-block-b">
                                <h4><%- enroll.grade.Project.actual %></h4>
                            </div>
                        </div>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <h4 class="mc-text-right">Presentation</h4>
                            </div>
                            <div class="ui-block-b">
                                <h4><%- enroll.grade.Presentation.actual %></h4>
                            </div>
                        </div>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <h4 class="mc-text-right">Midterm</h4>
                            </div>
                            <div class="ui-block-b">
                                <h4><%- enroll.grade.Midterm.actual %></h4>
                            </div>
                        </div>
                        <div class="ui-grid-a">
                            <div class="ui-block-a">
                                <h4 class="mc-text-right">Final</h4>
                            </div>
                            <div class="ui-block-b">
                                <h4><%- enroll.grade.Final.actual %></h4>
                            </div>
                        </div>
                    </div>
                    <% }); %>
                </div>
            </div>
        </script>
        <!-- END: courseEnrolListTmp Underscore Template Definition. -->


    </div><!-- /content -->
</div><!-- /courseDetail page -->

<!--enrollDetail page: show score & grade-->
<div data-role="page" id="enrollDetail">
    <div data-role="header">
        <a data-iconpos="notext" href="#userhome" data-role="button" data-icon="flat-man" title="Home">Home</a>
        <h1>Enrollment</h1>
        <a data-iconpos="notext" href="" data-role="button" data-icon="flat-menu"></a>
    </div><!-- /header -->
    <div data-role="content"  class="ui-content">

        <!--if teacher, button to edit/delete course-->
        <button id="editScoreBtn" data-icon="flat-new" data-theme="b">Edit Score</button>
        <button id="backToCourseBtn" data-icon="flat-menu" data-theme="e">Back to Course</button>

        <!--show course fileds-->
        <div id="enrollDetailPanel"></div>

        <!-- BEGIN: myEnrollDetailTmp for student view -->
        <script type="text/template" id="myEnrollDetailTmp">

            <!-- if student, button to enroll course -->
            <!--pass enroll id as data-enrollId-->
            <button id="whatifBtn" data-icon="flat-eye" data-enrollid="<%- _id %>" data-theme="e">What-if Score</button>


            Course info:
            <h4><%- _course.name %></h4>
            <h4><%- _course.description %></h4>

            <!--TODO pop a dialog for all students-->
            <!--<button>Show All Students</button>-->

            Current grade:
            <h4>Final: <%- grade.Final.actual %> </h4>
            <h4>Midterm: <%- grade.Midterm.actual %> </h4>
            <h4>Presentation: <%- grade.Presentation.actual %> </h4>
            <h4>Project: <%- grade.Project.actual %> </h4>
            <h4>Labs: <%- grade.Labs.actual %> </h4>
            <h4>Homeworks: <%- grade.Homeworks.actual %> </h4>
        </script>
        <!-- END: courseDetailTmp Underscore Template Definition. -->

        <!-- BEGIN: studentEnrollDetailTmp for teacher view -->
        <script type="text/template" id="studentEnrollDetailTmp">
            <div data-role="collapsible" data-collapsed="false">
                <h3><%- _student.fname %> <%- _student.lname %></h3>
                <h3>Grade: <span class="actual-grade"></span></h3>

                <table data-role="table" class="table-breakpoint">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Score</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Homework</td>
                            <td><%- grade.Homeworks.actual %></td>
                        </tr>
                        <tr>
                            <td>Labs</td>
                            <td><%- grade.Labs.actual %></td>
                        </tr>
                        <tr>
                            <td>Project</td>
                            <td><%- grade.Project.actual %></td>
                        </tr>
                        <tr>
                            <td>Presentation</td>
                            <td><%- grade.Presentation.actual %></td>
                        </tr>
                        <tr>
                            <td>Midterm</td>
                            <td><%- grade.Midterm.actual %></td>
                        </tr>
                        <tr>
                            <td>Final</td>
                            <td><%- grade.Final.actual %></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </script>
        <!-- END: courseDetailTmp Underscore Template Definition. -->

        <!--TODO calculate My total current grade-->

    </div><!-- /content -->
</div><!-- /enrollDetail page -->

<!--whatifEdit page: student edit whatif score see grade-->
<div data-role="page" id="whatifEdit">
    <div data-role="header">
        <a data-iconpos="notext" href="#userhome" data-role="button" data-icon="flat-man" title="Home">Home</a>
        <h1>What-if Score</h1>
        <a data-iconpos="notext" href="" data-role="button" data-icon="flat-menu"></a>
    </div><!-- /header -->
    <div data-role="content"  class="ui-content">

        <button id="backToEnrollBtn" data-icon="flat-menu" data-theme="e">Back to Enroll</button>

        <!--show this course fileds-->
        <div id="enrollCoursePanel"></div>
        <!-- BEGIN: courseDetailTmp -->
        <script type="text/template" id="enrollCoursePanelTmp">
            <h4><%- _course.name %></h4>

            <!--input whatif scores-->
            <form id="whatifGradeForm">

                <h5>What-if Grade:</h5>

                <!-- change to slider, max with meta.XX.max-->

                <label for="HomeworksWhatif">Homeworks Whatif:</label>
                <input type="range" name="HomeworksWhatif" id="HomeworksWhatif" value="<%- grade.Homeworks.whatif %>" min="0" max="<%- _course.meta.Homeworks.max %>" />

                <label for="LabsWhatif">Labs Whatif:</label>
                <input type="range" name="LabsWhatif" id="LabsWhatif" value="<%- grade.Labs.whatif %>" min="0" max="<%- _course.meta.Labs.max %>" />

                <label for="ProjectWhatif">Project Whatif:</label>
                <input type="range" name="ProjectWhatif" id="ProjectWhatif" value="<%- grade.Project.whatif %>" min="0" max="<%- _course.meta.Project.max %>" />

                <label for="PresentationWhatif">Presentation Whatif:</label>
                <input type="range" name="PresentationWhatif" id="PresentationWhatif" value="<%- grade.Presentation.whatif %>" min="0" max="<%- _course.meta.Presentation.max %>" />

                <label for="MidtermWhatif">Midterm Whatif:</label>
                <input type="range" name="MidtermWhatif" id="MidtermWhatif" value="<%- grade.Midterm.whatif %>" min="0" max="<%- _course.meta.Midterm.max %>" />

                <label for="FinalWhatif">Final Whatif:</label>
                <input type="range" name="FinalWhatif" id="FinalWhatif" value="<%- grade.Final.whatif %>" min="0" max="<%- _course.meta.Final.max %>" />

                <br/>
                <button id="calWhatifGradeBtn" data-icon="flat-eye" data-theme="b">Calculate what-if grade</button>
                <!--TODO: error alert dialoge-->

            </form>
        </script>



        <!--TODO calculate My total current grade-->
        <h5>My Grade: <span id="whatifGrade"></span></h5>

    </div><!-- /content -->
</div><!-- /whatifEdit page -->

<!--actualScoreEdit page: teacher edit actual score see grade-->
<div data-role="page" id="actualScoreEdit">
    <div data-role="header">
        <a data-iconpos="notext" href="#userhome" data-role="button" data-icon="flat-man" title="Home">Home</a>
        <h1>Edit Score</h1>
        <a data-iconpos="notext" href="" data-role="button" data-icon="flat-menu"></a>
    </div><!-- /header -->
    <div data-role="content"  class="ui-content">

        <!--show this course fileds-->
        <div id="editActualScorePanel"></div>
        <!-- BEGIN: courseDetailTmp -->
        <script type="text/template" id="editAcutalScoreTmp">
            <div class="ui-grid-a">
                <div class="ui-block-a">
                    <h3><%- _course.name %></h3>
                    <h3><strong><%- _student.fname %> <%- _student.lname %></strong></h3>
                </div>
                <div class="ui-block-b">
                    <h1 class="student-grade mc-text-center">
                        <span class="grade-value"></span>%
                        (<span class="letter-grade"></span>)
                    </h1>
                </div>
            </div>


            <!--input whatif scores-->
            <form id="actualScoreForm">
                <!-- change to slider, max with meta.XX.max-->
                <input type="hidden" id="grading-scale"
                       data-a="<%- _course.policy.A %>" data-b="<%- _course.policy.B %>"
                       data-c="<%- _course.policy.C %>" data-d="<%- _course.policy.D %>">

                <label for="HomeworksActual" class="mc-text-center">Homework</label>
                <input type="range" name="HomeworksActual" id="HomeworksActual" min="0"
                       value="<%- grade.Homeworks.actual %>" max="<%- _course.meta.Homeworks.max %>"/>
                <label class="max"><%- _course.meta.Homeworks.max %></label>
                <input type="hidden" id="HomeworksFactor" value="<%- _course.meta.Homeworks.factor %>">

                <br>

                <label for="LabsActual" class="mc-text-center">Labs</label>
                <input type="range" name="LabsActual" id="LabsActual" value="<%- grade.Labs.actual %>"
                       min="0" max="<%- _course.meta.Labs.max %>" />
                <label class="max"><%- _course.meta.Labs.max %></label>
                <input type="hidden" id="LabsFactor" value="<%- _course.meta.Labs.factor %>">

                <br>

                <label for="ProjectActual" class="mc-text-center">Project</label>
                <input type="range" name="ProjectActual" id="ProjectActual" value="<%- grade.Project.actual %>"
                       min="0" max="<%- _course.meta.Project.max %>" />
                <label class="max"><%- _course.meta.Project.max %></label>
                <input type="hidden" id="ProjectFactor" value="<%- _course.meta.Project.factor %>">

                <br>

                <label for="PresentationActual" class="mc-text-center">Presentation</label>
                <input type="range" name="PresentationActual" id="PresentationActual"
                       value="<%- grade.Presentation.actual %>" min="0" max="<%- _course.meta.Presentation.max %>" />
                <label class="max"><%- _course.meta.Presentation.max %></label>
                <input type="hidden" id="PresentationFactor" value="<%- _course.meta.Presentation.factor %>">

                <br>

                <label for="MidtermActual" class="mc-text-center">Midterm</label>
                <input type="range" name="MidtermActual" id="MidtermActual" value="<%- grade.Midterm.actual %>"
                       min="0" max="<%- _course.meta.Midterm.max %>" />
                <label class="max"><%- _course.meta.Midterm.max %></label>
                <input type="hidden" id="MidtermFactor" value="<%- _course.meta.Midterm.factor %>">

                <br>

                <label for="FinalActual" class="mc-text-center">Final</label>
                <input type="range" name="FinalActual" id="FinalActual" value="<%- grade.Final.actual %>"
                       min="0" max="<%- _course.meta.Final.max %>" />
                <label class="max"><%- _course.meta.Final.max %></label>
                <input type="hidden" id="FinalFactor" value="<%- _course.meta.Final.factor %>">

                <br/>
                <button id="calActualGradeBtn" data-icon="flat-checkround" data-theme="b">
                    Calculate & Save Grade</button>

                <span id="grade" style="display: none;"></span>
                <!--TODO: error alert dialoge-->

            </form>
        </script>

        <h5>Total Grade: <span id="actualGrade"></span></h5>

    </div><!-- /content -->
</div><!-- /actualScoreEdit page -->


<!--setting page-->
<div data-role="page" class="" id="settingsPage" data-add-back-btn="true" >
    <div data-role="header" class="">
        <a data-iconpos="notext" href="#home" data-role="button" data-icon="home" title="Home">Home</a>
        <a href="#" id='cancelSettings' class="ui-btn ui-icon-delete ui-btn-icon-left" data-rel="back">Cancel</a>
        <h1>Grade - Settings</h1>
    </div>
    <div data-role="content" class="">
        <form>
            <input type="number" name="gradeCutOff" id="gradeCutOff" value="" placeholder="Grade Cutoff at">
            <p style="text-align: center;">
                <a href="#" id='saveSettings' data-role="button" data-inline="true" data-icon="check">Save</a>
            </p>
        </form>
    </div>
</div><!-- /setting page -->


<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="js/underscore.js"></script>
<script src="https://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
<script type="text/javascript" src="cordova.js"></script>
<script src="js/app.js"></script>
</body>
</html>
